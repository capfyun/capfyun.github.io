<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Java文件操作大全[转载]--云峰无聊博客</title>
  <meta name="keywords" content="无聊博客  无聊 博客" />
  <meta name="description" content="我很无聊，所以建了云峰小助手、无聊社区...." />
  <script src="./jquery-1.11.3.js" type="text/javascript"></script>
  <link href="./blog.css" rel="stylesheet">
  <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon" />
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">
<!--[if lt IE 9]>
<script src="./modernizr.js"></script>
<![endif]-->
</head>
<body>
<div class="ibody">
  <header>
    <h1>云峰无聊博客</h1>
    <h2>我很无聊，所以建了云峰小助手、无聊社区.....</h2>
    <div class="logo"><a href="./index.html"></a></div>
    <nav id="topnav"><a href="./index.html">首页</a>
    	<a href="./wdfx.html"  id="topnav_current"  >我的分享</a>
    	<a href="./sxxj.html"  >随心小记</a>
    <a href="./about.html">关于云峰</a></nav>
  </header>
  <article>
    <h2 class="about_h">您现在的位置是：<a href="./">首页</a>><a href="./wdfx.html">
				我的分享</a>> <a href="./article18.html">Java文件操作大全[转载]</a></h2>
    <div class="index_about">
      <h2 class="c_titile">Java文件操作大全[转载]</h2>
      <p class="box_c"><span class="d_time">发布时间：2015-11-27 14:00:00</span><span>作者：capfyun</span></p>
      <ul class="infos">
        <p>&nbsp;<span style="white-space:pre">	</span>//1.创建文件夹&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>File myFolderPath = new File(str1);&nbsp;<br /><span style="white-space:pre">	</span>try {&nbsp;<br /><span style="white-space:pre">		</span>if (!myFolderPath.exists()) {&nbsp;<br /><span style="white-space:pre">		</span> &nbsp; myFolderPath.mkdir();&nbsp;<br /><span style="white-space:pre">		</span>}&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><span style="white-space:pre">	</span>catch (Exception e) {&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(&quot;新建目录操作出错&quot;);&nbsp;<br /><span style="white-space:pre">		</span>e.printStackTrace();&nbsp;<br /><span style="white-space:pre">	</span>} &nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//2.创建文件&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>File myFilePath = new File(str1);&nbsp;<br /><span style="white-space:pre">	</span>try {&nbsp;<br /><span style="white-space:pre">		</span>if (!myFilePath.exists()) {&nbsp;<br /><span style="white-space:pre">			</span>myFilePath.createNewFile();&nbsp;<br /><span style="white-space:pre">		</span>}&nbsp;<br /><span style="white-space:pre">		</span>FileWriter resultFile = new FileWriter(myFilePath);&nbsp;<br /><span style="white-space:pre">		</span>PrintWriter myFile = new PrintWriter(resultFile);&nbsp;<br /><span style="white-space:pre">		</span>myFile.println(str2);&nbsp;<br /><span style="white-space:pre">		</span>resultFile.close();&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><span style="white-space:pre">	</span>catch (Exception e) {&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(&quot;新建文件操作出错&quot;);&nbsp;<br /><span style="white-space:pre">		</span>e.printStackTrace();&nbsp;<br /><span style="white-space:pre">	</span>} &nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//3.删除文件&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>File myDelFile = new File(str1);&nbsp;<br /><span style="white-space:pre">	</span>try {&nbsp;<br /><span style="white-space:pre">		</span>myDelFile.delete();&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><span style="white-space:pre">	</span>catch (Exception e) {&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(&quot;删除文件操作出错&quot;);&nbsp;<br /><span style="white-space:pre">		</span>e.printStackTrace();&nbsp;<br /><span style="white-space:pre">	</span>} &nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//4.删除文件夹&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>File delFolderPath = new File(str1);&nbsp;<br /><span style="white-space:pre">	</span>try {&nbsp;<br /><span style="white-space:pre">		</span>delFolderPath.delete(); //删除空文件夹&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><span style="white-space:pre">	</span>catch (Exception e) {&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(&quot;删除文件夹操作出错&quot;);&nbsp;<br /><span style="white-space:pre">		</span>e.printStackTrace();&nbsp;<br /><span style="white-space:pre">	</span>} &nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//5.删除一个文件下夹所有的文件夹&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>File delfile=new File(str1);&nbsp;<br /><span style="white-space:pre">	</span>File[] files=delfile.listFiles();&nbsp;<br /><span style="white-space:pre">	</span>for(int i=0;i&lt;files.length;i++){&nbsp;<br /><span style="white-space:pre">		</span>if(files[i].isDirectory()){&nbsp;<br /><span style="white-space:pre">			</span>files[i].delete();&nbsp;<br /><span style="white-space:pre">		</span>}&nbsp;<br /><span style="white-space:pre">	</span>} &nbsp;&nbsp;<br /><span style="white-space:pre">	</span>&nbsp;<br /><span style="white-space:pre">	</span>//6.清空文件夹&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>File delfilefolder=new File(str1);&nbsp;<br /><span style="white-space:pre">	</span>try {&nbsp;<br /><span style="white-space:pre">		</span>if (!delfilefolder.exists()) {&nbsp;<br /><span style="white-space:pre">			</span>delfilefolder.delete();&nbsp;<br /><span style="white-space:pre">		</span>}&nbsp;<br /><span style="white-space:pre">		</span>delfilefolder.mkdir();&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><span style="white-space:pre">	</span>catch (Exception e) {&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(&quot;清空目录操作出错&quot;);&nbsp;<br /><span style="white-space:pre">		</span>e.printStackTrace();&nbsp;<br /><span style="white-space:pre">	</span>} &nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//7.读取文件&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>// 逐行读取数据&nbsp;<br /><span style="white-space:pre">	</span>FileReader fr = new FileReader(str1);&nbsp;<br /><span style="white-space:pre">	</span>BufferedReader br = new BufferedReader(fr);&nbsp;<br /><span style="white-space:pre">	</span>String str2 = br.readLine();&nbsp;<br /><span style="white-space:pre">	</span>while (str2 != null) {&nbsp;<br /><span style="white-space:pre">		</span>str3&nbsp;<br /><span style="white-space:pre">		</span>str2 = br.readLine();&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><span style="white-space:pre">	</span>br.close();&nbsp;<br /><span style="white-space:pre">	</span>fr.close(); &nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//8.写入文件&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>// 将数据写入文件&nbsp;<br /><span style="white-space:pre">	</span>try {&nbsp;<br /><span style="white-space:pre">		</span>FileWriter fw = new FileWriter(str1);&nbsp;<br /><span style="white-space:pre">		</span>fw.write(str2);&nbsp;<br /><span style="white-space:pre">		</span>fw.flush();&nbsp;<br /><span style="white-space:pre">		</span>fw.close(); &nbsp;<br /><span style="white-space:pre">	</span>} catch (IOException e) {&nbsp;<br /><span style="white-space:pre">		</span>e.printStackTrace();&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//9.写入随机文件&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>try {&nbsp;<br /><span style="white-space:pre">		</span>RandomAcessFile logFile=new RandomAcessFile(str1,&quot;rw&quot;);&nbsp;<br /><span style="white-space:pre">		</span>long lg=logFile.length();&nbsp;<br /><span style="white-space:pre">		</span>logFile.seek(str2);&nbsp;<br /><span style="white-space:pre">		</span>logFile.writeByte(str3);&nbsp;<br /><span style="white-space:pre">	</span>}catch(IOException ioe){&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(&quot;无法写入文件：&quot;+ioe.getMessage());&nbsp;<br /><span style="white-space:pre">	</span>} &nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//10.读取文件属性&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>// 文件属性的取得&nbsp;<br /><span style="white-space:pre">	</span>File f = new File(str1);&nbsp;<br /><span style="white-space:pre">	</span>if (af.exists()) {&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(f.getName() + &quot;的属性如下： 文件长度为：&quot; + f.length());&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(f.isFile() ? &quot;是文件&quot; : &quot;不是文件&quot;);&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(f.isDirectory() ? &quot;是目录&quot; : &quot;不是目录&quot;);&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(f.canRead() ? &quot;可读取&quot; : &quot;不&quot;);&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(f.canWrite() ? &quot;是隐藏文件&quot; : &quot;&quot;);&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(&quot;文件夹的最后修改日期为：&quot; + new Date(f.lastModified()));&nbsp;<br /><span style="white-space:pre">		</span>} else {&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(f.getName() + &quot;的属性如下：&quot;);&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(f.isFile() ? &quot;是文件&quot; : &quot;不是文件&quot;);&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(f.isDirectory() ? &quot;是目录&quot; : &quot;不是目录&quot;);&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(f.canRead() ? &quot;可读取&quot; : &quot;不&quot;);&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(f.canWrite() ? &quot;是隐藏文件&quot; : &quot;&quot;);&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(&quot;文件的最后修改日期为：&quot; + new Date(f.lastModified()));&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><span style="white-space:pre">	</span>if(f.canRead()){&nbsp;<br /><span style="white-space:pre">		</span>str2&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><span style="white-space:pre">	</span>if(f.canWrite()){&nbsp;<br /><span style="white-space:pre">		</span>str3&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//11.写入属性&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>File filereadonly=new File(str1);&nbsp;<br /><span style="white-space:pre">	</span>try {&nbsp;<br /><span style="white-space:pre">		</span>boolean b=filereadonly.setReadOnly();&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><span style="white-space:pre">	</span>catch (Exception e) {&nbsp;<br /><span style="white-space:pre">		</span>System.out.println(&quot;拒绝写访问：&quot;+e.printStackTrace());&nbsp;<br /><span style="white-space:pre">	</span>} &nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//12.枚举一个文件夹中的所有文件&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>//import java.util.*;&nbsp;<br /><span style="white-space:pre">	</span>LinkedList<string> folderList = new LinkedList<string>();&nbsp;<br /><span style="white-space:pre">	</span>folderList.add(str1);&nbsp;<br /><span style="white-space:pre">	</span>while (folderList.size() &gt; 0) {&nbsp;<br /><span style="white-space:pre">		</span>File file = new File(folderList.peek());&nbsp;<br /><span style="white-space:pre">		</span>folderList.removeLast();&nbsp;<br /><span style="white-space:pre">		</span>File[] files = file.listFiles();&nbsp;<br /><span style="white-space:pre">		</span>ArrayList<file> fileList = new ArrayList<file>();&nbsp;<br /><span style="white-space:pre">		</span>for (int i = 0; i &lt; files.length; i++) {&nbsp;<br /><span style="white-space:pre">			</span>if (files[i].isDirectory()) {&nbsp;<br /><span style="white-space:pre">				</span>folderList.add(files[i].getPath());&nbsp;<br /><span style="white-space:pre">			</span>} else {&nbsp;<br /><span style="white-space:pre">				</span>fileList.add(files[i]);&nbsp;<br /><span style="white-space:pre">			</span>}&nbsp;<br /><span style="white-space:pre">		</span>}&nbsp;<br /><span style="white-space:pre">		</span>for (File f : fileList) {&nbsp;<br /><span style="white-space:pre">			</span>str2=f.getAbsoluteFile();&nbsp;<br /><span style="white-space:pre">			</span>str3&nbsp;<br /><span style="white-space:pre">		</span>}&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//13.复制文件夹 &nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>//import java.util.*;&nbsp;<br /><span style="white-space:pre">	</span>LinkedList<string> folderList = new LinkedList<string>();&nbsp;<br /><span style="white-space:pre">	</span>folderList.add(str1);&nbsp;<br /><span style="white-space:pre">	</span>LinkedList<string> folderList2 = new LinkedList<string>();&nbsp;<br /><span style="white-space:pre">	</span>folderList2.add(str2+ str1.substring(str1.lastIndexOf(&quot;\\&quot;)));&nbsp;<br /><span style="white-space:pre">	</span>while (folderList.size() &gt; 0) {&nbsp;<br /><span style="white-space:pre">		</span>(new File(folderList2.peek())).mkdirs(); // 如果文件夹不存在 则建立新文件夹&nbsp;<br /><span style="white-space:pre">		</span>File folders = new File(folderList.peek());&nbsp;<br /><span style="white-space:pre">		</span>String[] file = folders.list();&nbsp;<br /><span style="white-space:pre">		</span>File temp = null;&nbsp;<br /><span style="white-space:pre">		</span>try {&nbsp;<br /><span style="white-space:pre">			</span>for (int i = 0; i &lt; file.length; i++) {&nbsp;<br /><span style="white-space:pre">				</span>if (folderList.peek().endsWith(File.separator)) {&nbsp;<br /><span style="white-space:pre">					</span>temp = new File(folderList.peek() + File.separator&nbsp;<br /><span style="white-space:pre">					</span>+ file[i]);&nbsp;<br /><span style="white-space:pre">				</span>} else {&nbsp;<br /><span style="white-space:pre">					</span>temp = new File(folderList.peek() + File.separator + file[i]);&nbsp;<br /><span style="white-space:pre">				</span>}&nbsp;<br /><span style="white-space:pre">				</span>if (temp.isFile()) {&nbsp;<br /><span style="white-space:pre">					</span>FileInputStream input = new FileInputStream(temp);&nbsp;<br /><span style="white-space:pre">					</span>FileOutputStream output = new FileOutputStream(&nbsp;<br /><span style="white-space:pre">					</span>folderList2.peek() + File.separator + (temp.getName()).toString());&nbsp;<br /><span style="white-space:pre">					</span>byte[] b = new byte[5120];&nbsp;<br /><span style="white-space:pre">					</span>int len;&nbsp;<br /><span style="white-space:pre">					</span>while ((len = input.read(b)) != -1) {&nbsp;<br /><span style="white-space:pre">						</span>output.write(b, 0, len);&nbsp;<br /><span style="white-space:pre">					</span>}&nbsp;<br /><span style="white-space:pre">					</span>output.flush();&nbsp;<br /><span style="white-space:pre">					</span>output.close();&nbsp;<br /><span style="white-space:pre">					</span>input.close();&nbsp;<br /><span style="white-space:pre">				</span>}&nbsp;<br /><span style="white-space:pre">				</span>if (temp.isDirectory()) {// 如果是子文件夹&nbsp;<br /><span style="white-space:pre">					</span>for (File f : temp.listFiles()) {&nbsp;<br /><span style="white-space:pre">						</span>if (f.isDirectory()) {&nbsp;<br /><span style="white-space:pre">							</span>folderList.add(f.getPath());&nbsp;<br /><span style="white-space:pre">							</span>folderList2.add(folderList2.peek()&nbsp;<br /><span style="white-space:pre">							</span>+ File.separator + f.getName());&nbsp;<br /><span style="white-space:pre">						</span>}&nbsp;<br /><span style="white-space:pre">					</span>}&nbsp;<br /><span style="white-space:pre">				</span>}&nbsp;<br /><span style="white-space:pre">			</span>}&nbsp;<br /><span style="white-space:pre">		</span>} catch (Exception e) {&nbsp;<br /><span style="white-space:pre">		</span>//System.out.println(&quot;复制整个文件夹内容操作出错&quot;);&nbsp;<br /><span style="white-space:pre">			</span>e.printStackTrace();&nbsp;<br /><span style="white-space:pre">		</span>}&nbsp;<br /><span style="white-space:pre">		</span>folderList.removeFirst();&nbsp;<br /><span style="white-space:pre">		</span>folderList2.removeFirst();&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//14.复制一个文件夹下所有的文件夹到另一个文件夹下&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>//import java.util.*;&nbsp;<br /><span style="white-space:pre">	</span>File copyfolders=new File(str1);&nbsp;<br /><span style="white-space:pre">	</span>File[] copyfoldersList=copyfolders.listFiles();&nbsp;<br /><span style="white-space:pre">	</span>for(int k=0;k&lt;copyfoldersList.length;k++){&nbsp;<br /><span style="white-space:pre">		</span>if(copyfoldersList[k].isDirectory()){&nbsp;<br /><span style="white-space:pre">			</span>ArrayList<string>folderList=new ArrayList<string>();&nbsp;<br /><span style="white-space:pre">			</span>folderList.add(copyfoldersList[k].getPath());&nbsp;<br /><span style="white-space:pre">			</span>ArrayList<string>folderList2=new ArrayList<string>();&nbsp;<br /><span style="white-space:pre">			</span>folderList2.add(str2+&quot;/&quot;+copyfoldersList[k].getName());&nbsp;<br /><span style="white-space:pre">			</span>for(int j=0;j&lt;folderList.length;j++){&nbsp;<br /><span style="white-space:pre">				</span> (new File(folderList2.get(j))).mkdirs(); //如果文件夹不存在 则建立新文件夹&nbsp;<br /><span style="white-space:pre">				</span> File folders=new File(folderList.get(j));&nbsp;<br /><span style="white-space:pre">				</span> String[] file=folders.list();&nbsp;<br /><span style="white-space:pre">				</span> File temp=null;&nbsp;<br /><span style="white-space:pre">				</span> try {&nbsp;<br /><span style="white-space:pre">					</span> for (int i = 0; i &lt; file.length; i++) {&nbsp;<br /><span style="white-space:pre">						</span> if(folderList.get(j).endsWith(File.separator)){&nbsp;<br /><span style="white-space:pre">							</span> temp=new File(folderList.get(j)+&quot;/&quot;+file[i]);&nbsp;<br /><span style="white-space:pre">						</span> } else {&nbsp;<br /><span style="white-space:pre">							</span> temp=new File(folderList.get(j)+&quot;/&quot;+File.separator+file[i]);&nbsp;<br /><span style="white-space:pre">						</span> }&nbsp;<br /><span style="white-space:pre">						</span> FileInputStream input = new FileInputStream(temp);&nbsp;<br /><span style="white-space:pre">						</span> if(temp.isFile()){&nbsp;<br /><span style="white-space:pre">							</span> FileInputStream input = new FileInputStream(temp);&nbsp;<br /><span style="white-space:pre">							</span> FileOutputStream output = new FileOutputStream(folderList2.get(j) + &quot;/&quot; + (temp.getName()).toString());&nbsp;<br /><span style="white-space:pre">							</span> byte[] b = new byte[5120];&nbsp;<br /><span style="white-space:pre">							</span> int len;&nbsp;<br /><span style="white-space:pre">							</span> while ( (len = input.read(b)) != -1) {&nbsp;<br /><span style="white-space:pre">								</span> output.write(b, 0, len);&nbsp;<br /><span style="white-space:pre">							</span> }&nbsp;<br /><span style="white-space:pre">							</span> output.flush();&nbsp;<br /><span style="white-space:pre">							</span> output.close();&nbsp;<br /><span style="white-space:pre">							</span> input.close();&nbsp;<br /><span style="white-space:pre">						</span> }&nbsp;<br /><span style="white-space:pre">						</span> if(temp.isDirectory()){//如果是子文件夹&nbsp;<br /><span style="white-space:pre">							</span> folderList.add(folderList.get(j)+&quot;/&quot;+file[i]);&nbsp;<br /><span style="white-space:pre">							</span> folderList2.add(folderList2.get(j)+&quot;/&quot;+file[i]);&nbsp;<br /><span style="white-space:pre">						</span> }&nbsp;<br /><span style="white-space:pre">					</span> }&nbsp;<br /><span style="white-space:pre">				</span> }&nbsp;<br /><span style="white-space:pre">				</span> catch (Exception e) {&nbsp;<br /><span style="white-space:pre">					</span> System.out.println(&quot;复制整个文件夹内容操作出错&quot;);&nbsp;<br /><span style="white-space:pre">					</span> e.printStackTrace();&nbsp;<br /><span style="white-space:pre">				</span> }&nbsp;<br /><span style="white-space:pre">			</span>}&nbsp;<br /><span style="white-space:pre">		</span>}&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//15.移动文件夹&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>//import java.util.*;&nbsp;<br /><span style="white-space:pre">	</span>LinkedList<string> folderList = new LinkedList<string>();&nbsp;<br /><span style="white-space:pre">	</span>folderList.add(str1);&nbsp;<br /><span style="white-space:pre">	</span>LinkedList<string> folderList2 = new LinkedList<string>();&nbsp;<br /><span style="white-space:pre">	</span>folderList2.add(str2 + str1.substring(str1.lastIndexOf(&quot;\\&quot;)));&nbsp;<br /><span style="white-space:pre">	</span>while (folderList.size() &gt; 0) {&nbsp;<br /><span style="white-space:pre">		</span>(new File(folderList2.peek())).mkdirs(); // 如果文件夹不存在 则建立新文件夹&nbsp;<br /><span style="white-space:pre">		</span>File folders = new File(folderList.peek());&nbsp;<br /><span style="white-space:pre">		</span>String[] file = folders.list();&nbsp;<br /><span style="white-space:pre">		</span>File temp = null;&nbsp;<br /><span style="white-space:pre">		</span>try {&nbsp;<br /><span style="white-space:pre">			</span>for (int i = 0; i &lt; file.length; i++) {&nbsp;<br /><span style="white-space:pre">				</span>if (folderList.peek().endsWith(File.separator)) {&nbsp;<br /><span style="white-space:pre">					</span>temp = new File(folderList.peek() + File.separator + file[i]);&nbsp;<br /><span style="white-space:pre">				</span>} else {&nbsp;<br /><span style="white-space:pre">					</span>temp = new File(folderList.peek() + File.separator + file[i]);&nbsp;<br /><span style="white-space:pre">				</span>}&nbsp;<br /><span style="white-space:pre">				</span>if (temp.isFile()) {&nbsp;<br /><span style="white-space:pre">					</span>FileInputStream input = new FileInputStream(temp);&nbsp;<br /><span style="white-space:pre">					</span>FileOutputStream output = new FileOutputStream(&nbsp;<br /><span style="white-space:pre">					</span>folderList2.peek() + File.separator + (temp.getName()).toString());&nbsp;<br /><span style="white-space:pre">					</span>byte[] b = new byte[5120];&nbsp;<br /><span style="white-space:pre">					</span>int len;&nbsp;<br /><span style="white-space:pre">					</span>while ((len = input.read(b)) != -1) {&nbsp;<br /><span style="white-space:pre">						</span>output.write(b, 0, len);&nbsp;<br /><span style="white-space:pre">					</span>}&nbsp;<br /><span style="white-space:pre">					</span>output.flush();&nbsp;<br /><span style="white-space:pre">					</span>output.close();&nbsp;<br /><span style="white-space:pre">					</span>input.close();&nbsp;<br /><span style="white-space:pre">					</span>if (!temp.delete())&nbsp;<br /><span style="white-space:pre">					</span>System.out.println(&quot;删除单个文件操作出错!&quot;);&nbsp;<br /><span style="white-space:pre">				</span>}&nbsp;<br /><span style="white-space:pre">				</span>if (temp.isDirectory()) {// 如果是子文件夹&nbsp;<br /><span style="white-space:pre">					</span>for (File f : temp.listFiles()) {&nbsp;<br /><span style="white-space:pre">						</span>if (f.isDirectory()) {&nbsp;<br /><span style="white-space:pre">							</span>folderList.add(f.getPath());&nbsp;<br /><span style="white-space:pre">							</span>folderList2.add(folderList2.peek() + File.separator + f.getName());&nbsp;<br /><span style="white-space:pre">						</span>}&nbsp;<br /><span style="white-space:pre">					</span>}&nbsp;<br /><span style="white-space:pre">				</span>}&nbsp;<br /><span style="white-space:pre">			</span>}&nbsp;<br /><span style="white-space:pre">		</span>} catch (Exception e) {&nbsp;<br /><span style="white-space:pre">			</span>// System.out.println(&quot;复制整个文件夹内容操作出错&quot;);&nbsp;<br /><span style="white-space:pre">			</span>e.printStackTrace();&nbsp;<br /><span style="white-space:pre">		</span>}&nbsp;<br /><span style="white-space:pre">		</span>folderList.removeFirst();&nbsp;<br /><span style="white-space:pre">		</span>folderList2.removeFirst();&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><span style="white-space:pre">	</span>File f = new File(str1);&nbsp;<br /><span style="white-space:pre">	</span>if (!f.delete()) {&nbsp;<br /><span style="white-space:pre">		</span>for (File file : f.listFiles()) {&nbsp;<br /><span style="white-space:pre">			</span>if (file.list().length == 0) {&nbsp;<br /><span style="white-space:pre">				</span>System.out.println(file.getPath());&nbsp;<br /><span style="white-space:pre">				</span>file.delete();&nbsp;<br /><span style="white-space:pre">			</span>}&nbsp;<br /><span style="white-space:pre">		</span>}&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><span style="white-space:pre">	</span>//16.移动一个文件夹下所有的文件夹到另一个目录下&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>//import java.util.*;&nbsp;<br /><span style="white-space:pre">	</span>File movefolders=new File(str1);&nbsp;<br /><span style="white-space:pre">	</span>File[] movefoldersList=movefolders.listFiles();&nbsp;<br /><span style="white-space:pre">	</span>for(int k=0;k&lt;movefoldersList.length;k++){&nbsp;<br /><span style="white-space:pre">		</span>if(movefoldersList[k].isDirectory()){&nbsp;<br /><span style="white-space:pre">			</span>ArrayList<string>folderList=new ArrayList<string>();&nbsp;<br /><span style="white-space:pre">			</span>folderList.add(movefoldersList[k].getPath());&nbsp;<br /><span style="white-space:pre">			</span>ArrayList<string>folderList2=new ArrayList<string>();&nbsp;<br /><span style="white-space:pre">			</span>folderList2.add(str2+&quot;/&quot;+movefoldersList[k].getName());&nbsp;<br /><span style="white-space:pre">			</span>for(int j=0;j&lt;folderList.length;j++){&nbsp;<br /><span style="white-space:pre">				</span> (new File(folderList2.get(j))).mkdirs(); //如果文件夹不存在 则建立新文件夹&nbsp;<br /><span style="white-space:pre">				</span> File folders=new File(folderList.get(j));&nbsp;<br /><span style="white-space:pre">				</span> String[] file=folders.list();&nbsp;<br /><span style="white-space:pre">				</span> File temp=null;&nbsp;<br /><span style="white-space:pre">				</span> try {&nbsp;<br /><span style="white-space:pre">					</span> for (int i = 0; i &lt; file.length; i++) {&nbsp;<br /><span style="white-space:pre">						</span> if(folderList.get(j).endsWith(File.separator)){&nbsp;<br /><span style="white-space:pre">							</span> temp=new File(folderList.get(j)+&quot;/&quot;+file[i]);&nbsp;<br /><span style="white-space:pre">						</span> }&nbsp;<br /><span style="white-space:pre">						</span> else{&nbsp;<br /><span style="white-space:pre">							</span> temp=new File(folderList.get(j)+&quot;/&quot;+File.separator+file[i]);&nbsp;<br /><span style="white-space:pre">						</span> }&nbsp;<br /><span style="white-space:pre">						</span> FileInputStream input = new FileInputStream(temp);&nbsp;<br /><span style="white-space:pre">						</span> if(temp.isFile()){&nbsp;<br /><span style="white-space:pre">							</span> FileInputStream input = new FileInputStream(temp);&nbsp;<br /><span style="white-space:pre">							</span> FileOutputStream output = new FileOutputStream(folderList2.get(j) + &quot;/&quot; + (temp.getName()).toString());&nbsp;<br /><span style="white-space:pre">							</span> byte[] b = new byte[5120];&nbsp;<br /><span style="white-space:pre">							</span> int len;&nbsp;<br /><span style="white-space:pre">							</span> while ( (len = input.read(b)) != -1) {&nbsp;<br /><span style="white-space:pre">								</span> output.write(b, 0, len);&nbsp;<br /><span style="white-space:pre">							</span> }&nbsp;<br /><span style="white-space:pre">							</span> output.flush();&nbsp;<br /><span style="white-space:pre">							</span> output.close();&nbsp;<br /><span style="white-space:pre">							</span> input.close();&nbsp;<br /><span style="white-space:pre">							</span> temp.delete();&nbsp;<br /><span style="white-space:pre">						</span> }&nbsp;<br /><span style="white-space:pre">						</span> if(temp.isDirectory()){//如果是子文件夹&nbsp;<br /><span style="white-space:pre">							</span> folderList.add(folderList.get(j)+&quot;/&quot;+file[i]);&nbsp;<br /><span style="white-space:pre">							</span> folderList2.add(folderList2.get(j)+&quot;/&quot;+file[i]);&nbsp;<br /><span style="white-space:pre">						</span> }&nbsp;<br /><span style="white-space:pre">					</span> }&nbsp;<br /><span style="white-space:pre">				</span> }&nbsp;<br /><span style="white-space:pre">				</span> catch (Exception e) {&nbsp;<br /><span style="white-space:pre">					</span> System.out.println(&quot;复制整个文件夹内容操作出错&quot;);&nbsp;<br /><span style="white-space:pre">					</span> e.printStackTrace();&nbsp;<br /><span style="white-space:pre">				</span> }&nbsp;<br /><span style="white-space:pre">			</span>}&nbsp;<br /><span style="white-space:pre">			</span>movefoldersList[k].delete();&nbsp;<br /><span style="white-space:pre">		</span>}&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//17.以一个文件夹的框架在另一个目录创建文件夹和空文件&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>//import java.util.*;&nbsp;<br /><span style="white-space:pre">	</span>boolean b=false;//不创建空文件&nbsp;<br /><span style="white-space:pre">	</span>ArrayList<string>folderList=new ArrayList<string>();&nbsp;<br /><span style="white-space:pre">	</span>folderList.add(str1);&nbsp;<br /><span style="white-space:pre">	</span>ArrayList<string>folderList2=new ArrayList<string>();&nbsp;<br /><span style="white-space:pre">	</span>folderList2.add(str2);&nbsp;<br /><span style="white-space:pre">	</span>for(int j=0;j&lt;folderList.length;j++){&nbsp;<br /><span style="white-space:pre">		</span>(new File(folderList2.get(j))).mkdirs(); //如果文件夹不存在 则建立新文件夹&nbsp;<br /><span style="white-space:pre">		</span>File folders=new File(folderList.get(j));&nbsp;<br /><span style="white-space:pre">		</span>String[] file=folders.list();&nbsp;<br /><span style="white-space:pre">		</span>File temp=null;&nbsp;<br /><span style="white-space:pre">		</span>try {&nbsp;<br /><span style="white-space:pre">			</span>for (int i = 0; i &lt; file.length; i++) {&nbsp;<br /><span style="white-space:pre">				</span>if(folderList.get(j).endsWith(File.separator)){&nbsp;<br /><span style="white-space:pre">					</span>temp=new File(folderList.get(j)+&quot;/&quot;+file[i]);&nbsp;<br /><span style="white-space:pre">				</span>}&nbsp;<br /><span style="white-space:pre">				</span>else{&nbsp;<br /><span style="white-space:pre">					</span>temp=new File(folderList.get(j)+&quot;/&quot;+File.separator+file[i]);&nbsp;<br /><span style="white-space:pre">				</span>}&nbsp;<br /><span style="white-space:pre">				</span>FileInputStream input = new FileInputStream(temp);&nbsp;<br /><span style="white-space:pre">				</span>if(temp.isFile()){&nbsp;<br /><span style="white-space:pre">					</span>if (b) temp.createNewFile();&nbsp;<br /><span style="white-space:pre">				</span>}&nbsp;<br /><span style="white-space:pre">				</span>if(temp.isDirectory()){//如果是子文件夹&nbsp;<br /><span style="white-space:pre">					</span>folderList.add(folderList.get(j)+&quot;/&quot;+file[i]);&nbsp;<br /><span style="white-space:pre">					</span>folderList2.add(folderList2.get(j)+&quot;/&quot;+file[i]);&nbsp;<br /><span style="white-space:pre">				</span>}&nbsp;<br /><span style="white-space:pre">			</span>}&nbsp;<br /><span style="white-space:pre">		</span>}&nbsp;<br /><span style="white-space:pre">		</span>catch (Exception e) {&nbsp;<br /><span style="white-space:pre">			</span>System.out.println(&quot;复制整个文件夹内容操作出错&quot;);&nbsp;<br /><span style="white-space:pre">			</span>e.printStackTrace();&nbsp;<br /><span style="white-space:pre">		</span>}&nbsp;<br /><span style="white-space:pre">	</span>}&nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//18.复制文件&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span> int bytesum = 0;&nbsp;<br /><span style="white-space:pre">	</span> int byteread = 0;&nbsp;<br /><span style="white-space:pre">	</span> File oldfile = new File(str1);&nbsp;<br /><span style="white-space:pre">	</span> try {&nbsp;<br /><span style="white-space:pre">	</span> if (oldfile.exists()) { //文件存在时&nbsp;<br /><span style="white-space:pre">	</span> FileInputStream inStream = new FileInputStream(oldfile); //读入原文件&nbsp;<br /><span style="white-space:pre">	</span> FileOutputStream fs = new FileOutputStream(new File(str2,oldfile.getName()));&nbsp;<br /><span style="white-space:pre">	</span> byte[] buffer = new byte[5120];&nbsp;<br /><span style="white-space:pre">	</span> int length;&nbsp;<br /><span style="white-space:pre">	</span> while ( (byteread = inStream.read(buffer)) != -1) {&nbsp;<br /><span style="white-space:pre">	</span> bytesum += byteread; //字节数 文件大小&nbsp;<br /><span style="white-space:pre">	</span> System.out.println(bytesum);&nbsp;<br /><span style="white-space:pre">	</span> fs.write(buffer, 0, byteread);&nbsp;<br /><span style="white-space:pre">	</span> }&nbsp;<br /><span style="white-space:pre">	</span> inStream.close();&nbsp;<br /><span style="white-space:pre">	</span> }&nbsp;<br /><span style="white-space:pre">	</span> }&nbsp;<br /><span style="white-space:pre">	</span> catch (Exception e) {&nbsp;<br /><span style="white-space:pre">	</span> System.out.println(&quot;复制单个文件操作出错&quot;);&nbsp;<br /><span style="white-space:pre">	</span> e.printStackTrace();&nbsp;<br /><span style="white-space:pre">	</span> } &nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//19.复制一个文件夹下所有的文件到另一个目录&nbsp;<br /><span style="white-space:pre">	</span>//import java.io.*;&nbsp;<br /><span style="white-space:pre">	</span>File copyfiles=new File(str1);&nbsp;<br /><span style="white-space:pre">	</span>File[] files=copyfiles.listFiles();&nbsp;<br /><span style="white-space:pre">	</span>for(int i=0;i&lt;files.length;i++){&nbsp;<br /><span style="white-space:pre">		</span>if(!files[i].isDirectory()){&nbsp;<br /><span style="white-space:pre">			</span>int bytesum = 0;&nbsp;<br /><span style="white-space:pre">			</span>int byteread = 0;&nbsp;<br /><span style="white-space:pre">			</span>try {&nbsp;<br /><span style="white-space:pre">				</span>InputStream inStream = new FileInputStream(files[i]); //读入原文件&nbsp;<br /><span style="white-space:pre">				</span>FileOutputStream fs = new FileOutputStream(new File(str2,files[i].getName());&nbsp;<br /><span style="white-space:pre">				</span>byte[] buffer = new byte[5120];&nbsp;<br /><span style="white-space:pre">				</span>int length;&nbsp;<br /><span style="white-space:pre">				</span>while ( (byteread = inStream.read(buffer)) != -1) {&nbsp;<br /><span style="white-space:pre">					</span>bytesum += byteread; //字节数 文件大小&nbsp;<br /><span style="white-space:pre">					</span>System.out.println(bytesum);&nbsp;<br /><span style="white-space:pre">					</span>fs.write(buffer, 0, byteread);&nbsp;<br /><span style="white-space:pre">				</span>}&nbsp;<br /><span style="white-space:pre">				</span>inStream.close();&nbsp;<br /><span style="white-space:pre">			</span>} catch (Exception e) {&nbsp;<br /><span style="white-space:pre">				</span>System.out.println(&quot;复制单个文件操作出错&quot;);&nbsp;<br /><span style="white-space:pre">				</span>e.printStackTrace();&nbsp;<br /><span style="white-space:pre">			</span>}&nbsp;<br /><span style="white-space:pre">		</span>}&nbsp;<br /><span style="white-space:pre">	</span>} &nbsp;<br /><br /><br /><span style="white-space:pre">	</span>//20.提取扩展名&nbsp;<br /><span style="white-space:pre">	</span>String str2=str1.substring(str1.lastIndexOf(&quot;.&quot;)+1);</string></string></string></string></string></string></string></string></string></string></string></string></string></string></string></string></string></string></string></string></file></file></string></string></p>
      </ul>
    
    </div>
  </article>
  <aside>
    <div class="rnav">
       <li class="rnav1"><a href="./wdfx.html">我的分享</a></li>
       <li class="rnav2"><a href="./sxxj.html">随心小记</a></li>
    </div>
    <div class="ph_news">
      <h2>
        <p>最新文章</p>
      </h2>
      <ul class="ph_n">
      <li>
				<span class="num1">1</span>
			<a href="./article22.html">代码生成器[五一假期成果]</a></li>
      <li>
				<span class="num2">2</span>
			<a href="./article21.html">那些鸡汤[持续收集]</a></li>
      <li>
				<span>3</span>
			<a href="./article20.html">云峰，你的2015的那些错过</a></li>
      <li>
				<span>4</span>
			<a href="./article19.html">读懂正则表达式就这么简单[转载]</a></li>
      <li>
				<span>5</span>
			<a href="./article18.html">Java文件操作大全[转载]</a></li>
      </ul>
    </div>
    <div class="copyright">
      <ul>
         <p> modification by <a href="mailto:capfyun@foxmail.com">capfyun</a></p>
        <p>./</p>
        </p>
      </ul>
    </div>
  </aside>
  <div class="clear"></div>
  <!-- 清除浮动 --> 
</div>
</body>
</html>
